                    <!-- Page Heading -->
                    <div class="d-sm-flex align-items-center justify-content-between mb-4">
                        <h1 class="h3 mb-0 text-gray-800">Events Management</h1>
                    </div>

                    <div class="row">

                         <div class="col-lg-12">

                            <!-- Dropdown Card Example -->
                            <div class="card shadow mb-4">
                                <!-- Card Header - Dropdown -->
                                <div
                                    class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">Add Event</h6>
                                    <div class="mt-3 mb-2 mr-3 d-flex justify-content-end">
                                        <button class="btn btn-secondary" data-toggle="modal" data-target="#event" id="addevent"><span> + Add new event</span></button>
                                    </div>
                                </div>
                                <!-- Card Body -->
                                <div class="container mt-3">
                                    <div id="calendar">

                                    </div>
                                    <br>
        
                                    <!-- <table class="table table-bordered table-striped" id="dataTable">
                                      <thead>
                                        <tr>
                                        <th>Title</th>
                                        <th>Event Details</th>
                                        <th>date</th>
                                        <th>Start Time</th>
                                        <th>End Time</th>
                                        </tr>
                                        </thead>
                                        <tbody id="myTable">
        
                                        </tbody>
                                    </table> -->
                                  </div>
                                </div>
                            </div>

                        </div>

                    </div>
                    
                    
                    <div class="modal fade" id="event" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title text-primary" id="exampleModalLabel">Add New Event</h5>
                                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="card-body">
                                    <form class="eventform">
                                        <div class="form-group">
                                            <label for="eventtitle">Event Title</label>
                                          <input class="form-control" type="text" name="eventitle" placeholder="Event Title">
                                          <br>
                                          <div class="col-lg-6">
                                          <label for="eventInfo">Event Details</label>
                                          <textarea name="eventDetails" id="" cols="30" rows="5">
                                          </textarea>
                                        </div>
                                        </div><br>
                                      <div class="form-group">
                                          <label for="fromTime">Start:</label>
                                          <input type="datetime-local" id="fromTime"
                                          name="fromTime">
                                          <br/>
                                          <label for="toTime">End:</label>
                                          <input type="datetime-local" id="toTime"
                                            name="toTime">
                                      </div>
                                      <div class="form-group">
                                          <input name="checkbox" type="checkbox" id="test"><br>
                                          <small>Tick checkbox to enable event registration</small>
                                      </div>
                                      <button class="btn btn-secondary" id="reset">Reset</button>
                                      <button class="btn btn-success" id="eventsubmit" type="submit">Add Event</button>
                                        </form>
                                      </div>
                            </div>
                            <div class="modal-footer">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="updateEvent" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title text-primary" id="exampleModalLabel">Update Event</h5>
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="card-body" id="testmodal">
                                <form class="updateEventForm">
                                    <div class="form-group" id="updateID">
                                        <label for="fromTime">Start:</label>
                                        <input type="datetime-local" id="fromTime"
                                        name="updateStart">
                                        <br/>
                                        <label for="toTime">End:</label>
                                        <input type="datetime-local" id="toTime"
                                          name="updateEnd">
                                    </div>
                                    <button class="btn btn-secondary" id="reset">Reset</button>
                                    <button class="btn btn-success" id="updatesubmit" type="submit">Update</button>
                                      </form>
                                  </div>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>

                    <script>

$(function() {
    var calendar = $('#calendar').fullCalendar({
        editable:true,
        eventColor: 'green',
        eventDidMount: function(info) {
        var tooltip = new Tooltip(info.el, {
        title: info.event.extendedProps.description,
        placement: 'top',
        trigger: 'hover',
        container: 'body'
      });
    },
        events: '../forms/showevents.php',
        selectable:true,
        selectHelper:true,
        eventClick: function(event)
        {
            var id = event.id;
            $('#updateEvent').modal('show');
            $('#updateID').append(`<div class="formid" data-id="${id}"/>`);
            var dataid = $('#formid').attr('data-id');
            
            $(function() {
          $('.updateEventForm').on('submit', function(e){
         e.preventDefault();
       var eventForm = $('.updateEventForm').serialize();

             $.ajax({
            type: 'post',
            url: '../forms/updateEvent.php?id='+id,
           data: eventForm,
           dataType: 'json',
          encode: true,
          beforeSend: function(){
         $('#updatesubmit').text("Updating Event....");
             },
            success: function(data){
                    alert(data.msg)
                    $('#updateEvent').modal('hide');
                    calendar.fullCalendar('refetchEvents');
                    $('#updatesubmit').text("Update");
            }
                });
                })
            })
            
        },
        eventDrop: function(event, delta, revertFunc) {
            bootbox.confirm("Do You Really Want To Move This Event?", function(result) {
        if(!result){
                 revertFunc();
            } else {
                var editedDate = $.fullCalendar.formatDate(event.start, "Y-MM-DD HH-MM-SS");
                $("#event-action-response").hide();
                $.ajax({
                    url:"../forms/dropupdate.php",
                    type:"POST",
                    data:{id:event.id, start:editedDate, end:editedDate},
                    success:function(resource)
                    {
                     calendar.fullCalendar('refetchEvents');
                     $("#event-action-response").html("Event moved Successfully");
                     $("#event-action-response").show();
                    }
                })
            }
        })
        },        
    });
    $(function() {
          $('.eventform').on('submit', function(e){
         e.preventDefault();
       var eventForm = $('.eventform').serialize();

             $.ajax({
            type: 'post',
            url: '../forms/createevent.php',
           data: eventForm,
           dataType: 'json',
          encode: true,
          beforeSend: function(){
         $('#eventsubmit').text("Adding Event....");
             },
            success: function(data){
                    alert(data.status.msg);
                    $('#event').modal('hide');
                   calendar.fullCalendar('refetchEvents');
            }
                });
                })
            })
});  



                    // $(function(){
                    //         $('#reset').on('click', function() {
                    //             $('.eventform').trigger('reset');
                    //         })
                    //     })

                    // $('#checktest').on('click', function(){
                    //     var checkboxcheck = $('input[name="regOk"]').prop('checked');
                    //     console.log(checkboxcheck)
                    // })

                    // $('#checktest').on('click', function(){
                    //     var formData =  $('.eventform').serialize();
                    //    console.log(formData)
                    // })


            


// $(function(){
//   $.ajax({
//         url: '../forms/showevents.php',
//         type: 'get',
//         dataType: 'JSON',
//         success: function(response){
//             var len = response.length;
//             for(var i=0; i<len; i++){
//                 var title = response[i].title;
//                 var date = response[i].date;
//                 var from = response[i].startTime;
//                 var to = response[i].endTime;

//                 var events = 
//                                 "<tr>" +
//                                 "<td align='center'>" + title + "</td>" +
//                                 "<td align='center'>" + date + "</td>" +
//                                 "<td align='center'>" + from + "</td>" +
//                                 "<td align='center'>" + to + "</td>" +
//                                 "</tr>";

//                 $("#myTable").append(events);
              
//             }

//         }
//     });
// });    

// $(function(){
//     $.ajax({
//         url: '../forms/showevents.php',
//         type: 'post',
//         dataType: 'JSON',
//         success: function(response){
//             response.forEach(({ title, details, date, startTime, endTime }) => {
//               var events=`<tr>
//                 <td align='center'>${title}</td>
//                 <td align='center'>${details}</td>
//                 <td align='center'>${date}</td>
//                 <td align='center'>${startTime}</td>
//                 <td align='center'>${endTime}</td>
//                 </tr>`;

//               $("#myTable").append(events);

//             })
//         }
//     });
// });
                  </script>