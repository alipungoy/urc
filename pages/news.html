<section class="container mt-5">
    <div class="mb-5">
        <h3 class="display-6 mb-3">News</h3>
        <div id="latestNews" class="row"></div>
    </div>
</section>

<script>
    $(function () {
        $.ajax({
            url: 'api/get/latest-news.php',
            dataType: 'json',
            method: 'get',
            success: function (response) {
                response.forEach(({ id, title, details, start, end }) => {
                    $("#latestNews").append(`<div class="col-4"><div class="card  m-1">
                        <img src="assets/images/news-placeholder.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <div class="mb-3">
                                <h5 class="card-title mb-0">${title}</h5>
                            <small class="text-muted">${new Date(start).toDateString()} - ${new Date(end).toDateString()}</small>
                                </div>
                            <p class="card-text">${details}</p>
                            <a href="events-details.php#${id}" class="card-link">Read More</a>
                        </div>
                    </div></div>`);
                });
            }
        });

        $.ajax({
            url: 'api/get/latest-newsletter.php',
            dataType: 'json',
            method: 'get',
            success: function ({ data }) {
                data.forEach(({ id, title, poster, start, end }) => {
                    $("#carouselLatestNewsletter").append(`<div class="item">
                        <object data="${poster}#toolbar=0&navpanes=0&scrollbar=0" type="application/pdf" width="100%" height="300px"> <p>Your web browser doesn't have a PDF plugin or File not found.
                            </p></object>
                            <small class="text-center d-block">${title}</small>
                    </div>`);
                });

                var carouselLatestNews = $('#carouselLatestNewsletter').owlCarousel({
                    loop: true,
                    margin: 10,
                    nav: true,
                    responsive: {
                        0: {
                            items: 1
                        },
                        600: {
                            items: 3
                        },
                        1000: {
                            items: 5
                        }
                    }
                });
            }
        });
    });

</script>